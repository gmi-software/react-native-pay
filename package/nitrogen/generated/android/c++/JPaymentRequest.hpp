///
/// JPaymentRequest.hpp
/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
/// https://github.com/mrousavy/nitro
/// Copyright Â© 2025 Marc Rousavy @ Margelo
///

#pragma once

#include <fbjni/fbjni.h>
#include "PaymentRequest.hpp"

#include "GooglePayEnvironment.hpp"
#include "JGooglePayEnvironment.hpp"
#include "JPaymentItem.hpp"
#include "JPaymentItemType.hpp"
#include "PaymentItem.hpp"
#include "PaymentItemType.hpp"
#include <optional>
#include <string>
#include <vector>

namespace margelo::nitro::pay {

  using namespace facebook;

  /**
   * The C++ JNI bridge between the C++ struct "PaymentRequest" and the the Kotlin data class "PaymentRequest".
   */
  struct JPaymentRequest final: public jni::JavaClass<JPaymentRequest> {
  public:
    static auto constexpr kJavaDescriptor = "Lcom/margelo/nitro/pay/PaymentRequest;";

  public:
    /**
     * Convert this Java/Kotlin-based struct to the C++ struct PaymentRequest by copying all values to C++.
     */
    [[maybe_unused]]
    [[nodiscard]]
    PaymentRequest toCpp() const {
      static const auto clazz = javaClassStatic();
      static const auto fieldMerchantIdentifier = clazz->getField<jni::JString>("merchantIdentifier");
      jni::local_ref<jni::JString> merchantIdentifier = this->getFieldValue(fieldMerchantIdentifier);
      static const auto fieldMerchantName = clazz->getField<jni::JString>("merchantName");
      jni::local_ref<jni::JString> merchantName = this->getFieldValue(fieldMerchantName);
      static const auto fieldCountryCode = clazz->getField<jni::JString>("countryCode");
      jni::local_ref<jni::JString> countryCode = this->getFieldValue(fieldCountryCode);
      static const auto fieldCurrencyCode = clazz->getField<jni::JString>("currencyCode");
      jni::local_ref<jni::JString> currencyCode = this->getFieldValue(fieldCurrencyCode);
      static const auto fieldPaymentItems = clazz->getField<jni::JArrayClass<JPaymentItem>>("paymentItems");
      jni::local_ref<jni::JArrayClass<JPaymentItem>> paymentItems = this->getFieldValue(fieldPaymentItems);
      static const auto fieldMerchantCapabilities = clazz->getField<jni::JArrayClass<jni::JString>>("merchantCapabilities");
      jni::local_ref<jni::JArrayClass<jni::JString>> merchantCapabilities = this->getFieldValue(fieldMerchantCapabilities);
      static const auto fieldSupportedNetworks = clazz->getField<jni::JArrayClass<jni::JString>>("supportedNetworks");
      jni::local_ref<jni::JArrayClass<jni::JString>> supportedNetworks = this->getFieldValue(fieldSupportedNetworks);
      static const auto fieldShippingType = clazz->getField<jni::JString>("shippingType");
      jni::local_ref<jni::JString> shippingType = this->getFieldValue(fieldShippingType);
      static const auto fieldShippingMethods = clazz->getField<jni::JArrayClass<JPaymentItem>>("shippingMethods");
      jni::local_ref<jni::JArrayClass<JPaymentItem>> shippingMethods = this->getFieldValue(fieldShippingMethods);
      static const auto fieldBillingContactRequired = clazz->getField<jni::JBoolean>("billingContactRequired");
      jni::local_ref<jni::JBoolean> billingContactRequired = this->getFieldValue(fieldBillingContactRequired);
      static const auto fieldShippingContactRequired = clazz->getField<jni::JBoolean>("shippingContactRequired");
      jni::local_ref<jni::JBoolean> shippingContactRequired = this->getFieldValue(fieldShippingContactRequired);
      static const auto fieldGooglePayEnvironment = clazz->getField<JGooglePayEnvironment>("googlePayEnvironment");
      jni::local_ref<JGooglePayEnvironment> googlePayEnvironment = this->getFieldValue(fieldGooglePayEnvironment);
      static const auto fieldGooglePayGateway = clazz->getField<jni::JString>("googlePayGateway");
      jni::local_ref<jni::JString> googlePayGateway = this->getFieldValue(fieldGooglePayGateway);
      static const auto fieldGooglePayGatewayMerchantId = clazz->getField<jni::JString>("googlePayGatewayMerchantId");
      jni::local_ref<jni::JString> googlePayGatewayMerchantId = this->getFieldValue(fieldGooglePayGatewayMerchantId);
      return PaymentRequest(
        merchantIdentifier->toStdString(),
        merchantName != nullptr ? std::make_optional(merchantName->toStdString()) : std::nullopt,
        countryCode->toStdString(),
        currencyCode->toStdString(),
        [&]() {
          size_t __size = paymentItems->size();
          std::vector<PaymentItem> __vector;
          __vector.reserve(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            auto __element = paymentItems->getElement(__i);
            __vector.push_back(__element->toCpp());
          }
          return __vector;
        }(),
        [&]() {
          size_t __size = merchantCapabilities->size();
          std::vector<std::string> __vector;
          __vector.reserve(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            auto __element = merchantCapabilities->getElement(__i);
            __vector.push_back(__element->toStdString());
          }
          return __vector;
        }(),
        [&]() {
          size_t __size = supportedNetworks->size();
          std::vector<std::string> __vector;
          __vector.reserve(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            auto __element = supportedNetworks->getElement(__i);
            __vector.push_back(__element->toStdString());
          }
          return __vector;
        }(),
        shippingType != nullptr ? std::make_optional(shippingType->toStdString()) : std::nullopt,
        shippingMethods != nullptr ? std::make_optional([&]() {
          size_t __size = shippingMethods->size();
          std::vector<PaymentItem> __vector;
          __vector.reserve(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            auto __element = shippingMethods->getElement(__i);
            __vector.push_back(__element->toCpp());
          }
          return __vector;
        }()) : std::nullopt,
        billingContactRequired != nullptr ? std::make_optional(static_cast<bool>(billingContactRequired->value())) : std::nullopt,
        shippingContactRequired != nullptr ? std::make_optional(static_cast<bool>(shippingContactRequired->value())) : std::nullopt,
        googlePayEnvironment != nullptr ? std::make_optional(googlePayEnvironment->toCpp()) : std::nullopt,
        googlePayGateway != nullptr ? std::make_optional(googlePayGateway->toStdString()) : std::nullopt,
        googlePayGatewayMerchantId != nullptr ? std::make_optional(googlePayGatewayMerchantId->toStdString()) : std::nullopt
      );
    }

  public:
    /**
     * Create a Java/Kotlin-based struct by copying all values from the given C++ struct to Java.
     */
    [[maybe_unused]]
    static jni::local_ref<JPaymentRequest::javaobject> fromCpp(const PaymentRequest& value) {
      using JSignature = JPaymentRequest(jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JArrayClass<JPaymentItem>>, jni::alias_ref<jni::JArrayClass<jni::JString>>, jni::alias_ref<jni::JArrayClass<jni::JString>>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JArrayClass<JPaymentItem>>, jni::alias_ref<jni::JBoolean>, jni::alias_ref<jni::JBoolean>, jni::alias_ref<JGooglePayEnvironment>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>);
      static const auto clazz = javaClassStatic();
      static const auto create = clazz->getStaticMethod<JSignature>("fromCpp");
      return create(
        clazz,
        jni::make_jstring(value.merchantIdentifier),
        value.merchantName.has_value() ? jni::make_jstring(value.merchantName.value()) : nullptr,
        jni::make_jstring(value.countryCode),
        jni::make_jstring(value.currencyCode),
        [&]() {
          size_t __size = value.paymentItems.size();
          jni::local_ref<jni::JArrayClass<JPaymentItem>> __array = jni::JArrayClass<JPaymentItem>::newArray(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            const auto& __element = value.paymentItems[__i];
            __array->setElement(__i, *JPaymentItem::fromCpp(__element));
          }
          return __array;
        }(),
        [&]() {
          size_t __size = value.merchantCapabilities.size();
          jni::local_ref<jni::JArrayClass<jni::JString>> __array = jni::JArrayClass<jni::JString>::newArray(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            const auto& __element = value.merchantCapabilities[__i];
            __array->setElement(__i, *jni::make_jstring(__element));
          }
          return __array;
        }(),
        [&]() {
          size_t __size = value.supportedNetworks.size();
          jni::local_ref<jni::JArrayClass<jni::JString>> __array = jni::JArrayClass<jni::JString>::newArray(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            const auto& __element = value.supportedNetworks[__i];
            __array->setElement(__i, *jni::make_jstring(__element));
          }
          return __array;
        }(),
        value.shippingType.has_value() ? jni::make_jstring(value.shippingType.value()) : nullptr,
        value.shippingMethods.has_value() ? [&]() {
          size_t __size = value.shippingMethods.value().size();
          jni::local_ref<jni::JArrayClass<JPaymentItem>> __array = jni::JArrayClass<JPaymentItem>::newArray(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            const auto& __element = value.shippingMethods.value()[__i];
            __array->setElement(__i, *JPaymentItem::fromCpp(__element));
          }
          return __array;
        }() : nullptr,
        value.billingContactRequired.has_value() ? jni::JBoolean::valueOf(value.billingContactRequired.value()) : nullptr,
        value.shippingContactRequired.has_value() ? jni::JBoolean::valueOf(value.shippingContactRequired.value()) : nullptr,
        value.googlePayEnvironment.has_value() ? JGooglePayEnvironment::fromCpp(value.googlePayEnvironment.value()) : nullptr,
        value.googlePayGateway.has_value() ? jni::make_jstring(value.googlePayGateway.value()) : nullptr,
        value.googlePayGatewayMerchantId.has_value() ? jni::make_jstring(value.googlePayGatewayMerchantId.value()) : nullptr
      );
    }
  };

} // namespace margelo::nitro::pay
