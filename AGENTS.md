# AGENTS

This guide helps automated agents submit high-quality PRs for this repo.

## Repo map

- `package/` is the published library (TypeScript + native code via Nitro).
- `example/` is an Expo app used for manual verification.
- Root `package.json` defines the workspace.

## Local setup

```bash
bun install
cd package && bun install
cd example && bun install
```

## Common workflows

- Generate Nitro bindings: `cd package && bun run specs`
- Typecheck: `cd package && bun run typecheck`
- Lint: `cd package && bun run lint`
- Run example: `cd example && npx expo prebuild && npx expo run:ios` or `npx expo run:android`

## Nitro Modules notes

- Specs and types are generated by Nitrogen.
- If you change any `*.nitro.ts` specs or Hybrid Object types, run `cd package && bun run specs`.
- Regenerating specs updates the native bindings and TypeScript outputs under `package/`.

## Change guidelines

- Keep PRs small and scoped to one objective.
- If you change public APIs, update `README.md` and any types.
- If you touch native code, validate both iOS and Android paths.
- Avoid drive-by refactors and formatting-only changes.

## Agentic PR checklist

Include these sections in your PR description:

- **Summary**: 2-5 bullets describing the intent and impact.
- **Test plan**: checklist of commands run and outcomes. If untested, say why.
- **Risk**: note compatibility, migration, or platform risk.
- **Notes**: assumptions, edge cases, or follow-ups.

Example template:

```
## Summary
- ...

## Test plan
- [ ] `cd package && bun run typecheck` (not run)
- [ ] `cd package && bun run lint` (not run)
- [ ] `cd example && bunx expo run:ios` (not run)
- [ ] `cd example && bunx expo run:android` (not run)

## Risk
- ...

## Notes
- ...
```
